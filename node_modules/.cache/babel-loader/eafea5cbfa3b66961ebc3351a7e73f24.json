{"ast":null,"code":"import _objectSpread from\"C:/Users/DCVA9/Desktop/pokemon/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createForOfIteratorHelper from\"C:/Users/DCVA9/Desktop/pokemon/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"C:/Users/DCVA9/Desktop/pokemon/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\DCVA9\\\\Desktop\\\\pokemon\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";var _require=require(\"../constants/index\"),URL_API_BASE=_require.URL_API_BASE;var axios=require(\"axios\");var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(url);case 2:result=_context.sent;return _context.abrupt(\"return\",result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getData(_x){return _ref.apply(this,arguments);};}();module.exports.getPokemons=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var requestPokemons,pockemons,_iterator,_step,item,pockemon,requestDetails;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getData(URL_API_BASE+\"/pokemon\");case 2:requestPokemons=_context2.sent;pockemons=[];_iterator=_createForOfIteratorHelper(requestPokemons.results);_context2.prev=5;_iterator.s();case 7:if((_step=_iterator.n()).done){_context2.next=17;break;}item=_step.value;pockemon={name:item.name,id:item.id};_context2.next=12;return getDetails(item.url);case 12:requestDetails=_context2.sent;pockemon=_objectSpread(_objectSpread({},pockemon),requestDetails);pockemons.push(pockemon);case 15:_context2.next=7;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](5);_iterator.e(_context2.t0);case 22:_context2.prev=22;_iterator.f();return _context2.finish(22);case 25:console.log(pockemons);return _context2.abrupt(\"return\",pockemons);case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[5,19,22,25]]);}));var getDetails=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url){var requestDetails,detils,abilities,_iterator2,_step2,item,abilityDetails,ability;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getData(url);case 2:requestDetails=_context3.sent;detils={base_experience:requestDetails.base_experience};abilities=[];_iterator2=_createForOfIteratorHelper(requestDetails.abilities);_context3.prev=6;_iterator2.s();case 8:if((_step2=_iterator2.n()).done){_context3.next=17;break;}item=_step2.value;_context3.next=12;return getAbilityDetails(item.ability.url);case 12:abilityDetails=_context3.sent;ability=_objectSpread({name:item.ability.name},abilityDetails);abilities.push(ability);case 15:_context3.next=8;break;case 17:_context3.next=22;break;case 19:_context3.prev=19;_context3.t0=_context3[\"catch\"](6);_iterator2.e(_context3.t0);case 22:_context3.prev=22;_iterator2.f();return _context3.finish(22);case 25:detils.abilities=abilities;_context3.next=28;return getLocationsArea(requestDetails.location_area_encounters);case 28:detils.location_area_encounters=_context3.sent;detils.number=requestDetails.game_indices[0].game_index;detils.image=requestDetails.sprites.other.home.front_default;detils.stats=requestDetails.stats.map(function(item){return{base_stat:item.base_stat,name:item.stat.name};});return _context3.abrupt(\"return\",detils);case 33:case\"end\":return _context3.stop();}}},_callee3,null,[[6,19,22,25]]);}));return function getDetails(_x2){return _ref3.apply(this,arguments);};}();var getAbilityDetails=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url){var requestAbilities;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getData(url);case 2:requestAbilities=_context4.sent;delete requestAbilities.effect_entries[1].language;return _context4.abrupt(\"return\",requestAbilities.effect_entries[1]);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function getAbilityDetails(_x3){return _ref4.apply(this,arguments);};}();var getLocationsArea=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url){var requestLocationsArea,locationsArea;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return getData(url);case 2:requestLocationsArea=_context5.sent;locationsArea=requestLocationsArea.map(function(item){return item.location_area.name;});return _context5.abrupt(\"return\",locationsArea);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function getLocationsArea(_x4){return _ref5.apply(this,arguments);};}();var getNumber=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(url){var numberPokemon;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getData;case 2:numberPokemon=_context6.sent;case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function getNumber(_x5){return _ref6.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/DCVA9/Desktop/pokemon/client/src/core/repositories/pokemons.repository.js"],"names":["require","URL_API_BASE","axios","getData","url","get","result","data","module","exports","getPokemons","requestPokemons","pockemons","results","item","pockemon","name","id","getDetails","requestDetails","push","console","log","detils","base_experience","abilities","getAbilityDetails","ability","abilityDetails","getLocationsArea","location_area_encounters","number","game_indices","game_index","image","sprites","other","home","front_default","stats","map","base_stat","stat","requestAbilities","effect_entries","language","requestLocationsArea","locationsArea","location_area","getNumber","numberPokemon"],"mappings":"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","sourcesContent":["const { URL_API_BASE } = require(\"../constants/index\");\r\nconst axios = require(\"axios\");\r\n\r\nconst getData = async (url) => {\r\n  let result = await axios.get(url);\r\n  return result.data;\r\n};\r\n\r\nmodule.exports.getPokemons = async () => {\r\n  const requestPokemons = await getData(URL_API_BASE + \"/pokemon\");\r\n\r\n  let pockemons = [];\r\n  for (let item of requestPokemons.results) {\r\n    let pockemon = {\r\n      name: item.name,\r\n      id: item.id,\r\n    };\r\n\r\n    const requestDetails = await getDetails(item.url);\r\n    pockemon = { ...pockemon, ...requestDetails };\r\n    pockemons.push(pockemon);\r\n  }\r\n  console.log(pockemons);\r\n  return pockemons;\r\n};\r\n\r\nconst getDetails = async (url) => {\r\n  const requestDetails = await getData(url);\r\n  let detils = {\r\n    base_experience: requestDetails.base_experience,\r\n  };\r\n  let abilities = [];\r\n  for (const item of requestDetails.abilities) {\r\n    let abilityDetails = await getAbilityDetails(item.ability.url);\r\n    let ability = { name: item.ability.name, ...abilityDetails };\r\n    abilities.push(ability);\r\n  }\r\n  detils.abilities = abilities;\r\n  detils.location_area_encounters = await getLocationsArea(\r\n    requestDetails.location_area_encounters\r\n  );\r\n  detils.number = requestDetails.game_indices[0].game_index;\r\n  detils.image = requestDetails.sprites.other.home.front_default;\r\n  detils.stats = requestDetails.stats.map((item) => {\r\n    return {\r\n      base_stat: item.base_stat,\r\n      name: item.stat.name,\r\n    };\r\n  });\r\n  return detils;\r\n};\r\n\r\nconst getAbilityDetails = async (url) => {\r\n  const requestAbilities = await getData(url);\r\n  delete requestAbilities.effect_entries[1].language;\r\n  return requestAbilities.effect_entries[1];\r\n};\r\n\r\nconst getLocationsArea = async (url) => {\r\n  const requestLocationsArea = await getData(url);\r\n  let locationsArea = requestLocationsArea.map(\r\n    (item) => item.location_area.name\r\n  );\r\n  return locationsArea;\r\n};\r\n\r\nconst getNumber = async (url) => {\r\n  const numberPokemon = await getData;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}