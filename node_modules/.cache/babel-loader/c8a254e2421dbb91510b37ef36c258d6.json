{"ast":null,"code":"const {\n  URL_API_BASE\n} = require(\"../constants/index\");\n\nconst axios = require(\"axios\");\n\nconst getData = async url => {\n  let result = await axios.get(url);\n  return result.data;\n};\n\nmodule.exports.getPokemons = async () => {\n  const requestPokemons = await getData(URL_API_BASE + \"/pokemon\");\n  let pockemons = [];\n\n  for (let item of requestPokemons.results) {\n    let pockemon = {};\n    pockemon.name = item.name;\n    const requestAbilities = await getDetails(item.url);\n    pockemon.abilities = requestAbilities;\n    pockemons.push(pockemon);\n  }\n\n  console.log(pockemons);\n  console.log(\"Hola\");\n  return pockemons;\n};\n\nconst getDetails = async url => {\n  const requestDetails = await getData(url);\n  let detils = {\n    base_experience: requestDetails.base_experience\n  }; // ==== abilities ====\n\n  let abilities = [];\n\n  for (const item of requestDetails.abilities) {\n    let abilityDetails = await getAbilityDetails(item.ability.url);\n    let ability = {\n      name: item.ability.name,\n      ...abilityDetails\n    };\n    abilities.push(ability);\n  }\n\n  detils.abilities = abilities;\n  return detils;\n};\n\nconst getAbilityDetails = async url => {\n  const requestAbilities = await getData(url);\n  let abilityDetails = {\n    effect_entries: requestAbilities.effect_entries\n  };\n  return abilityDetails;\n};","map":{"version":3,"sources":["C:/Users/DCVA9/Desktop/pokemon/client/src/core/repositories/pokemons.repository.js"],"names":["URL_API_BASE","require","axios","getData","url","result","get","data","module","exports","getPokemons","requestPokemons","pockemons","item","results","pockemon","name","requestAbilities","getDetails","abilities","push","console","log","requestDetails","detils","base_experience","abilityDetails","getAbilityDetails","ability","effect_entries"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAmBC,OAAO,CAAC,oBAAD,CAAhC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAME,OAAO,GAAG,MAAOC,GAAP,IAAe;AAC7B,MAAIC,MAAM,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAUF,GAAV,CAAnB;AACA,SAAOC,MAAM,CAACE,IAAd;AACD,CAHD;;AAKAC,MAAM,CAACC,OAAP,CAAeC,WAAf,GAA6B,YAAY;AACvC,QAAMC,eAAe,GAAG,MAAMR,OAAO,CAACH,YAAY,GAAG,UAAhB,CAArC;AAEA,MAAIY,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAIC,IAAT,IAAiBF,eAAe,CAACG,OAAjC,EAA0C;AACxC,QAAIC,QAAQ,GAAG,EAAf;AACAA,IAAAA,QAAQ,CAACC,IAAT,GAAgBH,IAAI,CAACG,IAArB;AAEA,UAAMC,gBAAgB,GAAG,MAAMC,UAAU,CAACL,IAAI,CAACT,GAAN,CAAzC;AACAW,IAAAA,QAAQ,CAACI,SAAT,GAAqBF,gBAArB;AACAL,IAAAA,SAAS,CAACQ,IAAV,CAAeL,QAAf;AACD;;AACDM,EAAAA,OAAO,CAACC,GAAR,CAAYV,SAAZ;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOV,SAAP;AACD,CAfD;;AAiBA,MAAMM,UAAU,GAAG,MAAOd,GAAP,IAAe;AAChC,QAAMmB,cAAc,GAAG,MAAMpB,OAAO,CAACC,GAAD,CAApC;AACA,MAAIoB,MAAM,GAAG;AACXC,IAAAA,eAAe,EAAEF,cAAc,CAACE;AADrB,GAAb,CAFgC,CAKhC;;AACA,MAAIN,SAAS,GAAG,EAAhB;;AACA,OAAK,MAAMN,IAAX,IAAmBU,cAAc,CAACJ,SAAlC,EAA6C;AAC3C,QAAIO,cAAc,GAAG,MAAMC,iBAAiB,CAACd,IAAI,CAACe,OAAL,CAAaxB,GAAd,CAA5C;AACA,QAAIwB,OAAO,GAAG;AAAEZ,MAAAA,IAAI,EAAEH,IAAI,CAACe,OAAL,CAAaZ,IAArB;AAA2B,SAAGU;AAA9B,KAAd;AACAP,IAAAA,SAAS,CAACC,IAAV,CAAeQ,OAAf;AACD;;AACDJ,EAAAA,MAAM,CAACL,SAAP,GAAmBA,SAAnB;AACA,SAAOK,MAAP;AACD,CAdD;;AAgBA,MAAMG,iBAAiB,GAAG,MAAOvB,GAAP,IAAe;AACvC,QAAMa,gBAAgB,GAAG,MAAMd,OAAO,CAACC,GAAD,CAAtC;AACA,MAAIsB,cAAc,GAAG;AACnBG,IAAAA,cAAc,EAAEZ,gBAAgB,CAACY;AADd,GAArB;AAGA,SAAOH,cAAP;AACD,CAND","sourcesContent":["const { URL_API_BASE } = require(\"../constants/index\");\r\nconst axios = require(\"axios\");\r\n\r\nconst getData = async (url) => {\r\n  let result = await axios.get(url);\r\n  return result.data;\r\n};\r\n\r\nmodule.exports.getPokemons = async () => {\r\n  const requestPokemons = await getData(URL_API_BASE + \"/pokemon\");\r\n\r\n  let pockemons = [];\r\n  for (let item of requestPokemons.results) {\r\n    let pockemon = {};\r\n    pockemon.name = item.name;\r\n\r\n    const requestAbilities = await getDetails(item.url);\r\n    pockemon.abilities = requestAbilities;\r\n    pockemons.push(pockemon);\r\n  }\r\n  console.log(pockemons);\r\n  console.log(\"Hola\");\r\n  return pockemons;\r\n};\r\n\r\nconst getDetails = async (url) => {\r\n  const requestDetails = await getData(url);\r\n  let detils = {\r\n    base_experience: requestDetails.base_experience,\r\n  };\r\n  // ==== abilities ====\r\n  let abilities = [];\r\n  for (const item of requestDetails.abilities) {\r\n    let abilityDetails = await getAbilityDetails(item.ability.url);\r\n    let ability = { name: item.ability.name, ...abilityDetails };\r\n    abilities.push(ability);\r\n  }\r\n  detils.abilities = abilities;\r\n  return detils;\r\n};\r\n\r\nconst getAbilityDetails = async (url) => {\r\n  const requestAbilities = await getData(url);\r\n  let abilityDetails = {\r\n    effect_entries: requestAbilities.effect_entries,\r\n  };\r\n  return abilityDetails;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}