{"ast":null,"code":"const {\n  URL_API_BASE\n} = require(\"../constants/index\");\n\nconst axios = require(\"axios\");\n\nconst getData = async url => {\n  let result = await axios.get(url);\n  return result.data;\n};\n\nmodule.exports.getPokemons = async () => {\n  const requestPokemons = await getData(URL_API_BASE + \"/pokemon\");\n  let pockemons = [];\n\n  for (let item of requestPokemons.results) {\n    let pockemon = {\n      name: item.name,\n      id: item.id\n    };\n    const requestAbilities = await getDetails(item.url);\n    pockemon = { ...pockemon,\n      ...requestAbilities\n    };\n    pockemons.push(pockemon);\n  }\n\n  console.log(pockemons);\n  return pockemons;\n};\n\nconst getDetails = async url => {\n  const requestDetails = await getData(url);\n  let detils = {\n    base_experience: requestDetails.base_experience\n  }; // ==== abilities ====\n\n  let abilities = [];\n\n  for (const item of requestDetails.abilities) {\n    let abilityDetails = await getAbilityDetails(item.ability.url);\n    let ability = {\n      name: item.ability.name,\n      ...abilityDetails\n    };\n    abilities.push(ability);\n  }\n\n  detils.abilities = abilities;\n  return detils;\n};\n\nconst getAbilityDetails = async url => {\n  const requestAbilities = await getData(url);\n  delete requestAbilities.effect_entries[1].language;\n  return requestAbilities.effect_entries[1];\n};\n\nconst getLocationsArea = async url => {\n  const requestLocationsArea = await getData(url);\n  let locationsArea = requestLocationsArea.map(item => item.location_area.name);\n  return locationsArea;\n};","map":{"version":3,"sources":["C:/Users/DCVA9/Desktop/pokemon/client/src/core/repositories/pokemons.repository.js"],"names":["URL_API_BASE","require","axios","getData","url","result","get","data","module","exports","getPokemons","requestPokemons","pockemons","item","results","pockemon","name","id","requestAbilities","getDetails","push","console","log","requestDetails","detils","base_experience","abilities","abilityDetails","getAbilityDetails","ability","effect_entries","language","getLocationsArea","requestLocationsArea","locationsArea","map","location_area"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAmBC,OAAO,CAAC,oBAAD,CAAhC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAME,OAAO,GAAG,MAAOC,GAAP,IAAe;AAC7B,MAAIC,MAAM,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAUF,GAAV,CAAnB;AACA,SAAOC,MAAM,CAACE,IAAd;AACD,CAHD;;AAKAC,MAAM,CAACC,OAAP,CAAeC,WAAf,GAA6B,YAAY;AACvC,QAAMC,eAAe,GAAG,MAAMR,OAAO,CAACH,YAAY,GAAG,UAAhB,CAArC;AAEA,MAAIY,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAIC,IAAT,IAAiBF,eAAe,CAACG,OAAjC,EAA0C;AACxC,QAAIC,QAAQ,GAAG;AACbC,MAAAA,IAAI,EAAEH,IAAI,CAACG,IADE;AAEbC,MAAAA,EAAE,EAAEJ,IAAI,CAACI;AAFI,KAAf;AAKA,UAAMC,gBAAgB,GAAG,MAAMC,UAAU,CAACN,IAAI,CAACT,GAAN,CAAzC;AACAW,IAAAA,QAAQ,GAAG,EAAE,GAAGA,QAAL;AAAe,SAAGG;AAAlB,KAAX;AACAN,IAAAA,SAAS,CAACQ,IAAV,CAAeL,QAAf;AACD;;AACDM,EAAAA,OAAO,CAACC,GAAR,CAAYV,SAAZ;AACA,SAAOA,SAAP;AACD,CAhBD;;AAkBA,MAAMO,UAAU,GAAG,MAAOf,GAAP,IAAe;AAChC,QAAMmB,cAAc,GAAG,MAAMpB,OAAO,CAACC,GAAD,CAApC;AACA,MAAIoB,MAAM,GAAG;AACXC,IAAAA,eAAe,EAAEF,cAAc,CAACE;AADrB,GAAb,CAFgC,CAKhC;;AACA,MAAIC,SAAS,GAAG,EAAhB;;AACA,OAAK,MAAMb,IAAX,IAAmBU,cAAc,CAACG,SAAlC,EAA6C;AAC3C,QAAIC,cAAc,GAAG,MAAMC,iBAAiB,CAACf,IAAI,CAACgB,OAAL,CAAazB,GAAd,CAA5C;AACA,QAAIyB,OAAO,GAAG;AAAEb,MAAAA,IAAI,EAAEH,IAAI,CAACgB,OAAL,CAAab,IAArB;AAA2B,SAAGW;AAA9B,KAAd;AACAD,IAAAA,SAAS,CAACN,IAAV,CAAeS,OAAf;AACD;;AACDL,EAAAA,MAAM,CAACE,SAAP,GAAmBA,SAAnB;AACA,SAAOF,MAAP;AACD,CAdD;;AAgBA,MAAMI,iBAAiB,GAAG,MAAOxB,GAAP,IAAe;AACvC,QAAMc,gBAAgB,GAAG,MAAMf,OAAO,CAACC,GAAD,CAAtC;AACA,SAAOc,gBAAgB,CAACY,cAAjB,CAAgC,CAAhC,EAAmCC,QAA1C;AACA,SAAOb,gBAAgB,CAACY,cAAjB,CAAgC,CAAhC,CAAP;AACD,CAJD;;AAMA,MAAME,gBAAgB,GAAG,MAAO5B,GAAP,IAAe;AACtC,QAAM6B,oBAAoB,GAAG,MAAM9B,OAAO,CAACC,GAAD,CAA1C;AACA,MAAI8B,aAAa,GAAGD,oBAAoB,CAACE,GAArB,CACjBtB,IAAD,IAAUA,IAAI,CAACuB,aAAL,CAAmBpB,IADX,CAApB;AAGA,SAAOkB,aAAP;AACD,CAND","sourcesContent":["const { URL_API_BASE } = require(\"../constants/index\");\r\nconst axios = require(\"axios\");\r\n\r\nconst getData = async (url) => {\r\n  let result = await axios.get(url);\r\n  return result.data;\r\n};\r\n\r\nmodule.exports.getPokemons = async () => {\r\n  const requestPokemons = await getData(URL_API_BASE + \"/pokemon\");\r\n\r\n  let pockemons = [];\r\n  for (let item of requestPokemons.results) {\r\n    let pockemon = {\r\n      name: item.name,\r\n      id: item.id,\r\n    };\r\n\r\n    const requestAbilities = await getDetails(item.url);\r\n    pockemon = { ...pockemon, ...requestAbilities };\r\n    pockemons.push(pockemon);\r\n  }\r\n  console.log(pockemons);\r\n  return pockemons;\r\n};\r\n\r\nconst getDetails = async (url) => {\r\n  const requestDetails = await getData(url);\r\n  let detils = {\r\n    base_experience: requestDetails.base_experience,\r\n  };\r\n  // ==== abilities ====\r\n  let abilities = [];\r\n  for (const item of requestDetails.abilities) {\r\n    let abilityDetails = await getAbilityDetails(item.ability.url);\r\n    let ability = { name: item.ability.name, ...abilityDetails };\r\n    abilities.push(ability);\r\n  }\r\n  detils.abilities = abilities;\r\n  return detils;\r\n};\r\n\r\nconst getAbilityDetails = async (url) => {\r\n  const requestAbilities = await getData(url);\r\n  delete requestAbilities.effect_entries[1].language;\r\n  return requestAbilities.effect_entries[1];\r\n};\r\n\r\nconst getLocationsArea = async (url) => {\r\n  const requestLocationsArea = await getData(url);\r\n  let locationsArea = requestLocationsArea.map(\r\n    (item) => item.location_area.name\r\n  );\r\n  return locationsArea;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}